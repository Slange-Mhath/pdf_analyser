# PDF Analyser

## What it does?

This script takes a log file generated by [Siegfried](https://github.com/richardlehane/siegfried), and iterates over every PDF file, to analyse if it's a proper PDF with text or just an image saved as PDF.
As a result it generates a new log with this information about every PDF from the Siegfried log. 

## How does it work? 

To identify if an image is a text document or an image we use [Fitz](https://github.com/pymupdf/PyMuPDF/tree/master/fitz) to see if the PDF file contains text or not, assuming that no text results in an image.

## How to use it? 

`python3 main.py -siegfried_log_path "your_siegfried_log" -dest_file_path "your_pdf_analyser_log"`

**-siegfried_log_path**
Specify the path to the siegfried log.
**-dest_file_path** 
Specify the file name and path of your generated pdf analyser log.

### This only works when the PDF's are still at the same position as they were during the scan with Siegfried. 

## How does the output look like?

```json
{
   "test_pdfs/first_pdf.pdf":{
      "isText":true,
      "tool_version_info":"\nPyMuPDF 1.19.1: Python bindings for the MuPDF 1.19.0 library.\nVersion date: 2021-10-23 00:00:01.\nBuilt for Python 3.9 on darwin (64-bit).\n"
   },
   "test_pdfs/second_pdf":{
      "isText":false,
      "tool_version_info":"\nPyMuPDF 1.19.1: Python bindings for the MuPDF 1.19.0 library.\nVersion date: 2021-10-23 00:00:01.\nBuilt for Python 3.9 on darwin (64-bit).\n"
   },
   "test_pdfs/third_pdf":{
      "isText":false,
      "tool_version_info":"\nPyMuPDF 1.19.1: Python bindings for the MuPDF 1.19.0 library.\nVersion date: 2021-10-23 00:00:01.\nBuilt for Python 3.9 on darwin (64-bit).\n"
   }
}
```
